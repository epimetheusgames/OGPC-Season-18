[gd_scene load_steps=11 format=3 uid="uid://co2canly84hyf"]

[ext_resource type="Script" path="res://Scripts/Components/Rope/FabrikRope.gd" id="1_7l8up"]
[ext_resource type="PackedScene" uid="uid://dwxcjl4jrkyw3" path="res://Scenes/TSCN/Entities/Entity/LeviathanNode.tscn" id="1_ljr6s"]
[ext_resource type="Script" path="res://Scripts/Entity/Enemy/Leviathan.gd" id="1_ucxug"]
[ext_resource type="Resource" uid="uid://bdgr4mym5uqvq" path="res://Scenes/Resource/Entity/LeviathanSettings.tres" id="3_sik31"]
[ext_resource type="Script" path="res://Scripts/Components/Rope/RopeAttachment.gd" id="4_6mv3f"]
[ext_resource type="Script" path="res://Scripts/Components/Hitbox/Attackbox.gd" id="5_on45p"]
[ext_resource type="Script" path="res://Scripts/Components/Hitbox/Hurtbox.gd" id="6_6n4cc"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_27gx5"]
size = Vector2(210, 202)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_swi4c"]
size = Vector2(151, 157)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_l6nwr"]
size = Vector2(82, 82)

[node name="Leviathan" type="CharacterBody2D" node_paths=PackedStringArray("hurtbox", "attackbox")]
position = Vector2(296, 288)
motion_mode = 1
script = ExtResource("1_ucxug")
LEVIATHAN_NODE = ExtResource("1_ljr6s")
node_amount = 60
settings = ExtResource("3_sik31")
hurtbox = NodePath("Hurtbox")
attackbox = NodePath("Attackbox")

[node name="Head" parent="." instance=ExtResource("1_ljr6s")]

[node name="Polygon2D" parent="Head" index="0"]
polygon = PackedVector2Array(-40, 2, -38, -32, -18, -36, 7, -43, 26, -35, 44, -12, 44, 17, 25, 38, 1, 39, -31, 35)

[node name="Polygon2D3" type="Polygon2D" parent="Head"]
position = Vector2(-36, -9)
scale = Vector2(1.1, 0.486486)
color = Color(0, 0, 1, 1)
polygon = PackedVector2Array(47.4545, -41.3333, 72, 3.88889, 50.1818, -4.33334, 39.2727, -6.38889)

[node name="Polygon2D2" type="Polygon2D" parent="Head"]
position = Vector2(-29, -11)
color = Color(0, 0, 1, 1)
polygon = PackedVector2Array(50, 16, 72, 8, 50, 45, 42, 33)

[node name="FabrikRope" type="Node2D" parent="."]
script = ExtResource("1_7l8up")
point_amount = 60
component_container = NodePath("..")

[node name="Legs" type="Node2D" parent="."]

[node name="RopeAttachment" type="Node2D" parent="Legs" node_paths=PackedStringArray("rope")]
script = ExtResource("4_6mv3f")
rope = NodePath("../../FabrikRope")
rope_node_index = 3
attachment_pos = Vector2(100, 0)

[node name="ColorRect" type="ColorRect" parent="Legs/RopeAttachment"]
offset_right = 40.0
offset_bottom = 40.0
color = Color(1, 1, 0.27451, 1)
metadata/_edit_use_anchors_ = true

[node name="RopeAttachment2" type="Node2D" parent="Legs" node_paths=PackedStringArray("rope")]
script = ExtResource("4_6mv3f")
rope = NodePath("../../FabrikRope")
rope_node_index = 3
attachment_pos = Vector2(-100, 0)

[node name="ColorRect" type="ColorRect" parent="Legs/RopeAttachment2"]
offset_right = 40.0
offset_bottom = 40.0
color = Color(1, 1, 0.27451, 1)
metadata/_edit_use_anchors_ = true

[node name="RopeAttachment3" type="Node2D" parent="Legs" node_paths=PackedStringArray("rope")]
script = ExtResource("4_6mv3f")
rope = NodePath("../../FabrikRope")
rope_node_index = 29
attachment_pos = Vector2(100, 0)

[node name="ColorRect" type="ColorRect" parent="Legs/RopeAttachment3"]
offset_right = 40.0
offset_bottom = 40.0
color = Color(1, 1, 0.27451, 1)
metadata/_edit_use_anchors_ = true

[node name="RopeAttachment4" type="Node2D" parent="Legs" node_paths=PackedStringArray("rope")]
script = ExtResource("4_6mv3f")
rope = NodePath("../../FabrikRope")
rope_node_index = 29
attachment_pos = Vector2(-100, 0)

[node name="ColorRect" type="ColorRect" parent="Legs/RopeAttachment4"]
offset_right = 40.0
offset_bottom = 40.0
color = Color(1, 1, 0.27451, 1)
metadata/_edit_use_anchors_ = true

[node name="Nav" type="NavigationAgent2D" parent="."]
debug_enabled = true

[node name="Attackbox" type="Area2D" parent="."]
script = ExtResource("5_on45p")
attacker_type = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Attackbox"]
shape = SubResource("RectangleShape2D_27gx5")

[node name="Hurtbox" type="Area2D" parent="."]
script = ExtResource("6_6n4cc")
hurt_by_player = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hurtbox"]
position = Vector2(-1.5, -0.5)
shape = SubResource("RectangleShape2D_swi4c")

[node name="BulletDetectionArea" type="Area2D" parent="."]
position = Vector2(0, -56)

[node name="CollisionShape2D" type="CollisionShape2D" parent="BulletDetectionArea"]
position = Vector2(1, 57)
shape = SubResource("RectangleShape2D_l6nwr")

[editable path="Head"]
