[gd_scene load_steps=7 format=3 uid="uid://6ajyn7xeilmv"]

[ext_resource type="Script" uid="uid://0js7gtnvp1vm" path="res://Scripts/Entity/Submarine/Submarine.gd" id="1_ru2mo"]
[ext_resource type="Script" uid="uid://bpcsoat0wk1ci" path="res://Scripts/Entity/Submarine/SubmarineMovement.gd" id="2_eisgo"]
[ext_resource type="Texture2D" uid="uid://d2bs2aysqkwqb" path="res://Assets/Art/Entity/Submarine/Submarine.png" id="3_j4tp4"]
[ext_resource type="Script" uid="uid://dxlkbqcv2x2hh" path="res://Scripts/Entity/Submarine/SubmarineWeapons/SubmarineWeaponSlot.gd" id="4_j4tp4"]
[ext_resource type="PackedScene" uid="uid://yigraya7x7v4" path="res://Scenes/TSCN/Entities/Submarine/SubmarineWeapons/SubmarineBurstWeapon.tscn" id="5_qnb0f"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fvx1j"]
size = Vector2(96, 139)

[node name="Submarine" type="CharacterBody2D"]
script = ExtResource("1_ru2mo")
metadata/_custom_type_script = "uid://0js7gtnvp1vm"

[node name="SubmarineMovement" type="Node2D" parent="."]
script = ExtResource("2_eisgo")

[node name="InteractionArea" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="InteractionArea"]
position = Vector2(-148, 31)
shape = SubResource("RectangleShape2D_fvx1j")

[node name="SeatPos" type="Node2D" parent="InteractionArea"]
position = Vector2(-148, 31)

[node name="SubmarineArea" type="Area2D" parent="." groups=["Submarine Area", "gravity_areas"]]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="SubmarineArea"]
position = Vector2(-150, -125)
polygon = PackedVector2Array(3, 18, 6, 22, 10, 26, 20, 31, 492, 31, 397, 221, 391, 230, 386, 233, 380, 235, 371, 236, 357, 237, -110, 238, -128, 212, -141, 190, -156, 159, -163, 135, -165, 127, -165, 98, -162, 85, -159, 77, -156, 71, -149, 62, -142, 55, -135, 50, -126, 45, -104, 34, -74, 26, -46, 21, -24, 19)

[node name="Frame" type="Sprite2D" parent="."]
position = Vector2(4, 7)
texture = ExtResource("3_j4tp4")

[node name="SubmarineWeaponSlot" type="Node2D" parent="."]
position = Vector2(-136, 194)
rotation = 2.35619
script = ExtResource("4_j4tp4")
metadata/_custom_type_script = "uid://dxlkbqcv2x2hh"

[node name="SubmarineBurstWeapon" parent="SubmarineWeaponSlot" instance=ExtResource("5_qnb0f")]
metadata/_edit_lock_ = true

[node name="Collision" type="Node2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collision"]
visible = false
position = Vector2(-150, -125)
polygon = PackedVector2Array(-110, 238, 385, 240, 391, 230, 397, 221, 492, 31, 319, 31, 319, -19, 360, 2, 494, 2, 502, 10, 502, 43, 408, 233, 399, 239, 388, 241, 360, 272, 325, 293, 280, 304, 234, 304, 193, 332, 42, 333, 34, 327, 26, 304, -118, 303, -123, 293, -123, 267, -126, 244)

[node name="Bubble" type="CollisionPolygon2D" parent="Collision"]
visible = false
position = Vector2(-150, -125)
polygon = PackedVector2Array(0, 2, 3, 18, -24, 19, -74, 26, -104, 34, -126, 45, -149, 62, -159, 77, -165, 98, -163, 135, -141, 190, -110, 238, -126, 244, -168, 172, -182, 125, -183, 93, -172, 64, -152, 41, -113, 20, -39, 4)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Collision"]
visible = false
position = Vector2(-150, -125)
polygon = PackedVector2Array(0, 2, 192, 2, 230, -19, 230, 31, 20, 31, 10, 26, 6, 22, 3, 18)

[connection signal="area_entered" from="InteractionArea" to="SubmarineMovement" method="_on_interaction_area_area_entered"]
[connection signal="area_exited" from="InteractionArea" to="SubmarineMovement" method="_on_interaction_area_area_exited"]
