[gd_scene load_steps=12 format=3 uid="uid://cgroth3nseo6"]

[ext_resource type="Script" path="res://Scripts/Skeleton/Root.gd" id="1_h2kyx"]
[ext_resource type="Script" path="res://Scripts/UI/UIGenerator.gd" id="2_h48r7"]
[ext_resource type="Script" path="res://Scripts/Skeleton/SaveLoadFramework.gd" id="2_i3ogj"]
[ext_resource type="Script" path="res://Scripts/ResourceScripts/FilepathResource.gd" id="3_e6kdq"]
[ext_resource type="Theme" uid="uid://b8bvv1n5midlh" path="res://Scenes/Resource/UI/MainTheme.tres" id="3_gnnuy"]
[ext_resource type="Script" path="res://Scripts/Skeleton/MultiplayerManager.gd" id="4_o3y1v"]
[ext_resource type="Script" path="res://Scripts/UI/KeybindButtonHandler.gd" id="6_oply2"]
[ext_resource type="Script" path="res://Scripts/Skeleton/TextPosSet.gd" id="8_7spfj"]
[ext_resource type="Script" path="res://Scripts/Level/BoidsCalculator.gd" id="9_xe7j2"]

[sub_resource type="Resource" id="Resource_ur184"]
script = ExtResource("3_e6kdq")
file = "<null>"

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_o714b"]

[node name="Root" type="Node"]
script = ExtResource("1_h2kyx")
game_skeleton_node = NodePath("Skeleton")
ui_root_node = NodePath("UI")
game_root_node = NodePath("Game")
dialog_text_node = NodePath("Game/GameUIOverlay/DialogText")

[node name="Skeleton" type="Node" parent="."]

[node name="SaveLoadFramework" type="Node" parent="Skeleton"]
script = ExtResource("2_i3ogj")
game_container_node_path = NodePath("../../Game/GameContainer/GameViewport")
ui_root_node_path = NodePath("../../UI")
level_list = Array[ExtResource("3_e6kdq")]([SubResource("Resource_ur184")])

[node name="MultiplayerManager" type="Node" parent="Skeleton"]
script = ExtResource("4_o3y1v")

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="UIGenerator" type="Node" parent="UI"]
script = ExtResource("2_h48r7")
keybind_entry_padding = 0
keybind_entry_element_padding = 44
text_offset_y = 8
button_offset_x = 64
starting_location = Vector2(20, -30)
button_template_path = NodePath("../TemplateButton")

[node name="TemplateButton" type="Button" parent="UI"]
layout_mode = 0
offset_left = -444.0
offset_top = 26.0
offset_right = -244.0
offset_bottom = 68.0
theme = ExtResource("3_gnnuy")
text = "Stylize this button!"
script = ExtResource("6_oply2")
metadata/key_number = 0
metadata/action = ""

[node name="Game" type="Node" parent="."]

[node name="BoidsCalculator" type="Node" parent="Game"]
script = ExtResource("9_xe7j2")

[node name="GameContainer" type="SubViewportContainer" parent="Game"]
offset_right = 512.0
offset_bottom = 512.0

[node name="GameViewport" type="SubViewport" parent="Game/GameContainer"]
handle_input_locally = false
size = Vector2i(1920, 1080)
render_target_update_mode = 4

[node name="GameUIOverlay" type="Control" parent="Game"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="DialogText" type="Node2D" parent="Game/GameUIOverlay"]
script = ExtResource("8_7spfj")

[node name="DialogTextureBG" type="TextureRect" parent="Game/GameUIOverlay/DialogText"]
offset_left = 1083.0
offset_top = -191.0
offset_right = 1641.0
offset_bottom = -26.0
texture = SubResource("PlaceholderTexture2D_o714b")

[node name="DialogTextLabel" type="RichTextLabel" parent="Game/GameUIOverlay/DialogText"]
offset_right = 40.0
offset_bottom = 40.0

[connection signal="button_up" from="UI/TemplateButton" to="UI/TemplateButton" method="_on_button_up"]
[connection signal="keybind_changed" from="UI/TemplateButton" to="UI/UIGenerator" method="_on_template_button_keybind_changed"]
